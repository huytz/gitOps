# ArgoCD
# helm repo add argo https://argoproj.github.io/argo-helm
# helm repo update
# kubectl create namespace argocd
# helm upgrade --install argo-cd argo/argo-cd --version 8.2.5 --namespace argocd
# kubectl port-forward svc/argo-cd-argocd-server -n argocd 8080:443

# HA mode without autoscaling
redis-ha:
  enabled: false

controller:
  replicas: 1
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: "arn:aws:iam::<ARGO_CD_AWS_ACCOUNT_ID>:role/ArgoCDManagementRole"

server:
  replicas: 2
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: "arn:aws:iam::<ARGO_CD_AWS_ACCOUNT_ID>:role/ArgoCDManagementRole"

repoServer:
  replicas: 2

applicationSet:
  replicas: 2
  serviceAccount:
    annotations:
      eks.amazonaws.com/role-arn: "arn:aws:iam::<ARGO_CD_AWS_ACCOUNT_ID>:role/ArgoCDManagementRole"

## Enable exec
configs:
  cm:
    exec.enabled: "true"
    # Local user accounts configuration
    # Format: accounts.<username>: <capabilities>
    # Capabilities: login, apiKey (comma-separated)
    accounts.developer: "login"
